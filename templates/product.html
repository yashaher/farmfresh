{% extends "base.html" %}
{% load static %}
{% block title %} Product {% endblock title %}

{% block content %}
<div class="container-fluid">
    <!-- ===========================carousel start===================================== -->
    <div class="row">
      <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{% static 'images/product2.jpg' %}" class="d-block w-100" alt="..." style="height: 600px;">
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/product1.jpg' %}" class="d-block w-100" alt="..." style="height: 600px;">
          </div>
          <div class="carousel-item">
            <img src="{% static 'images/product3.jpg' %}" class="d-block w-100" alt="..." style="height: 600px;">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
</div>
<!-- <div class="container text-center">
  <div class="moving-text" style="overflow: hidden; white-space: nowrap; background: linear-gradient(90deg, #e0f7fa, #fff); padding: 10px; border-radius: 5px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    <span style="display: inline-block; animation: moveText 8s linear infinite; font-size: 1.8rem; font-weight: bold; color: #28a745; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);">
      Direct From Farm to Customer! Freshness Guaranteed!
    </span>
    
  </div> -->
  <div class="bg-success p-0 m-0 w-100 h-100" style="display: flex; justify-content: center; align-items: center; flex-direction: row; text-align: center;">

    <p style="margin: 0 20px; font-size: 1.5rem; font-weight: bold; color: #fff;"><i class="fas fa-leaf"></i> Farmer</p>
    <p style="margin: 0 10px; font-size: 2rem; color: #fff;">➡️</p>
    <p style="margin: 0 20px; font-size: 1.5rem; font-weight: bold; color: #fff;"> <i class="fas fa-truck"></i> FarmFresh</p>
    <p style="margin: 0 10px; font-size: 2rem; color: #fff;">➡️</p>
    <p style="margin: 0 20px; font-size: 1.5rem; font-weight: bold; color: #fff;"><i class="fas fa-user"></i> Customer</p>

</div>
</div>
<div class="container-fluid ">
  <div class="container text-center">
    <marquee behavior="scroll" direction="left" style="font-size: 1.5rem; color: #007bff;">
      Welcome to Our Store! Enjoy the Best Deals Today!
    </marquee>
  </div>
<!-- ===========================carousel end===================================== -->
<div class="row">
    <!-- Left Panel -->
    <div class="col-lg-2 col-md-1 my-3">
      <div class="row">
        <p class="fw-bold text-primary"></p>
      </div>
      <div class="row p-2">
        <p></p>
        <span class="fw-semibold"></span>
        <a href="" class="nav-link"></a>
        <a href="" class="nav-link"></a>
      </div>
    </div>
  
    <!-- Right Panel -->
    
      <div class="row g-4 justify-content-center">
        {% for product in products %}
        <div class="col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center">
          <div class="card shadow-sm" style="width: 100%; max-width: 350px; border: none; border-radius: 10px;">
            <img src="{{ product.image.url }}" class="card-img-top" alt="Product Image" style="height: 250px; object-fit: cover; border-top-left-radius: 10px; border-top-right-radius: 10px;">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title text-primary">{{ product.title|truncatewords:3 }}</h5>
              <label for="weight_{{ product.id }}" class="form-label mt-2">Select Weight:</label>
              <select name="weight" id="weight_{{ product.id }}" class="form-select mb-3">
                {% for weight_price in product.weight_prices.all %}
                <option value="{{ weight_price.weight }}">
                  {{ weight_price.weight }} - ₹{{ weight_price.price }}
                </option>
                {% endfor %}
              </select>
              <a href="{% url 'product_details' product.id %}" class="btn btn-outline-primary mt-auto">View Details</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    
  <style>
    /* Ensure the dropdown menu is hidden by default */
.nav-item .dropdown-menu {
display: none;
position: absolute;
top: 100%; /* Align dropdown below the parent link */
left: 0;
z-index: 1000;
}

/* Show the dropdown on hover */
.nav-item:hover .dropdown-menu {
display: block;
}

/* Ensure the main link is clickable by preventing interference */
.nav-item > .nav-link {
position: relative;
z-index: 1010;
}

/* Additional styling for smooth dropdown (optional) */
.dropdown-menu {
background-color: #fff;
border: 1px solid #ddd;
box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
padding: 0;
margin: 0;
}

</style>
  </div>

{% endblock content %}